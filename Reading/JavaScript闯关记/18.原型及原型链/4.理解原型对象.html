<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
    function Person(name, age, job) {
        if(name && age && job){
            this.name = name;
            this.age = age;
            this.job = job;
        }
        this.showMsg = function () {
            console.log('实例：我的名字叫' + this.name + '，今年' + this.age + '岁，工作是' + this.job);
        }
    }
    Person.prototype.name = 'Glx';
    Person.prototype.age = 28;
    Person.prototype.job = 'Sale Engineer';
    Person.prototype.showMsg = function () {
        console.log('原型：我的名字叫' + this.name + '，今年' + this.age + '岁，工作是' + this.job);
    };

    // 在默认情况下，所有原型对象都会自动获得一个 constructor（构造函数）属性，这个属性包含一个指向 prototype 属性所在函数的指针。
    console.log(Person.prototype);
    console.log(Person.prototype.constructor);              // [Function: Person]
    console.log(Person.prototype.constructor == Person);    // true

    var person1 = new Person();
    console.log(person1.name);  // 'Glx'
    console.log(person1.age);   // 28
    console.log(person1.job);   // 'Sale Engineer'
    person1.showMsg();          // '原型：我的名字叫Glx，今年28岁，工作是Sale Engineer'

    person1.name = 'Lis';
    // 当访问person1.name 时，需要读取它的值。因此就会在这个实例上搜索一个名为name的属性，这个属性确实存在，于是就返回它的值而不必再搜索原型了。
    console.log(person1.name);  // 'Lis'，实例取值
    delete person1.name;
    console.log(person1.name);  // 'Glx'，原型取值
    delete person1.name;
    // 还是显示原型name的值。说明 delete 只能删掉实例的属性，不能删掉原型的属性，此次删除没有效果。
    console.log(person1.name);  // 'Glx'，原型取值

    person1.showMsg();    // '实例：我的名字叫Glx，今年28岁，工作是Sale Engineer'
    delete person1.showMsg;
    person1.showMsg();    // '原型：我的名字叫Glx，今年28岁，工作是Sale Engineer'
    delete person1.showMsg;
    // 还是显示原型sayPerson()输出的值。说明delete只能删掉实例的属性，不能删掉原型的属性，此次删除没有效果。
    person1.showMsg();    // '原型：我的名字叫Glx，今年28岁，工作是Sale Engineer'

    var person2 = new Person('Pol', '25', 'Society Engineer');
    // 当访问person2.job 时，需要读取job的值，会先在实例的属性读取job的值。构建函参中job是undefined，没有被赋值。
    // 这个属性不存在，于是就返回原型job的值
    person2.showMsg();    // '实例：我的名字叫Pol，今年25岁，工作是Society Engineer'
    person2.name = 'Asx';
    person2.job = 'Psychic Engineer';
    person2.showMsg();    // '实例：我的名字叫Asx，今年25岁，工作是Psychic Engineer'
    delete person2.name;
    person2.showMsg();    // '实例：我的名字叫Glx，今年25岁，工作是Psychic Engineer'
    delete person2.job;
    person2.showMsg();    // '实例：我的名字叫Glx，今年25岁，工作是Sale Engineer'
    delete person2.showMsg;
    person2.showMsg();    // '原型：我的名字叫Glx，今年25岁，工作是Sale Engineer'
</script>
</html>