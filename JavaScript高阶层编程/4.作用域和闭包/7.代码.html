<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
    //    'use strict';

    // 挑战一
    function func1() {
        function func2() {
            console.log(this)
        }

        return func2;
    }
    func1()(); // window，'use strict' -> undefined，


    // 挑战二
    scope2 = 'A';
    function func2() {
        var scope2 = 'B';

        function inner() {
            console.log(scope2);
        }

        return inner;
    }
    var ret = func2();
    ret(); // 'B'，'use strict' -> ERROR，


    // 挑战三
    scope3 = 'A';
    function func3() {
        var scope3 = 'B';

        function inner() {
            console.log(scope3);
        }

        scope3 = 'C';
        return inner;
    }
    ret = func3();
    ret(); // 'C'


    // 挑战四
    scope4 = 'A';
    function Bar() {
        console.log(scope4);
    }
    function Func() {
        var scope4 = 'B';
        return Bar;
    }
    ret = Func();
    ret(); // 'A'


    // 挑战五
    var name = 'The Window';
    var object = {
        name: 'My Object',
        getNameFunc: function () {
            return function () {
                return this.name; // 调用匿名函数都是 window。
            };
        }
    };
    console.log(object.getNameFunc()()); // 'The Window'


    // 挑战六
    name = 'The Window';
    object = {
        name: 'My Object',
        getNameFunc: function () {
            var that = this;
            return function () {
                return that.name;
            };
        }
    };
    console.log(object.getNameFunc()()); // 'My Object'
</script>
</html>