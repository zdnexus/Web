<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
    //  全局作用域
    var age = 29;
    function sayAge() {
        console.log(this.age);
    }
    console.log(window.age);    //  29
    sayAge();                   //  29
    window.sayAge();            //  29

    //  全局变量不能通过 delete 运算符删除，而直接在 window 对象上的定义的属性可以
    //  使用 var 语句添加的 window 属性有一个名为 Configurable 的特性，这个特性的值被默认设置为 false，
    //  因此这样定义的属性不可以通过 delete 运算符删除。IE8 及更早版本在遇到使用 delete 删除 window 属性的语句时，都会抛出错误，以示警告。
    var age = 29;
    window.color = 'red';
    //  在 IE < 9 时抛出错误，在其他所有浏览器中都返回 false
    delete window.age;
    console.log(age);           //  29
    console.log(window.age);    //  29
    delete age;
    console.log(age);           //  29
    console.log(window.age);    //  29
    //  在 IE < 9 时抛出错误，在其他所有浏览器中都返回 true
    delete window.color;
    //  console.log(color);     //  Uncaught ReferenceError: color is not defined
    console.log(window.color);  //  undefined

    //  弹出窗口
    //  window.open() 方法会返回一个指向新窗口的引用。引用的对象与其他 window 对象大致相似，但我们可以对其进行更多控制。
    var win = window.open('http://shijiajie.com/', 'newWindow',
            'height=400,width=400,top=0,left=0,resizable=yes');
    console.log(win.opener === window); //  true
    //  调整大小
    win.resizeTo(500, 500);
    //  移动位置
    win.moveTo(100, 100);
    //  关闭窗口
    win.close();

    //  弹出窗口屏蔽程序
    //  如果是浏览器内置的屏蔽程序阻止的弹出窗口，那么 window.open() 很可能会返回 null，
    //  如果是浏览器扩展或其他程序阻止的弹出窗口，那么 window.open() 通常会抛出一个错误。
    var blocked = false;
    try {
        var win = window.open('https://www.baidu.com', '_blank');
        if (win == null) {
            blocked = true;
        }
    } catch (ex) {
        blocked = true;
    }
    if (blocked) {
        console.log('The popup was blocked!');
    }
</script>
</html>