<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <style>
        #app {
            width: 300px;
            border: 1px solid #ccc;
            box-shadow: 5px 5px 5px #ccc;
            padding: 10px 20px;
        }

        #app p {
            color: #ff0000;
        }
    </style>
    <script src="//cdn.bootcss.com/vue/1.0.12/vue.min.js"></script>
    <link href="//cdn.bootcss.com/ionic/1.3.0/css/ionic.css" rel="stylesheet">
</head>
<body>

<div id="app">

    <form role="form" onsubmit="getResult();">
        <div>
            <input type="text" v-model="value">
            <input type="submit" value="取值">
            <!--朋友，想你那样虽然onclick="check()"会生效，
            但是你点击后不仅仅执行check()，还会提交表单，
            这样就造成check()无法执行，因为一旦提交表单就会刷新页面。
            建议你写在form里 即：<form onsubmit="return check();"/>
            然后在check()函数里如果验证成功则 return true;否则return false;-->
        </div>

        <p v-text="content"></p>
    </form>

</div>

</body>
<script src="//cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>
<script src="//cdn.bootcss.com/vue-resource/0.7.0/vue-resource.min.js"></script>
<script>

    new Vue({
        el: '#app',
        data: {
            value: '',
            content: '',
        },
        methods: {
            getResult: function () {
                var self = this;

//                jQuery ajax
//                $.ajax({
//                    url: '/zd/demo-php/test.php/',
//                    method: 'POST',
//                    async: false,
//                    dataType: 'json',
//                    data: {
//                        id: self.value
//                    },
//                    success: function (res) {
//                        self.content = res.data;
//                    },
//                    error: function (res) {
//
//                    }
//                });

//                vueJs ajax
                self.$http.post('/zd/demo-php/test.php', {
                    id: self.value
                }).then(
//                        success callback
                        function (res) {
                            var data = res.data;
                            if (data.statusCode == 0) {
                                self.content = data.msg;
                            }
                            else if(data.statusCode == 1){
                                alert(data.msg)
                            }
                        },
//                        error callback
                        function (res) {
                            alert('系统错误!');
                        }
                );
            }
        }
    })

</script>
</html>